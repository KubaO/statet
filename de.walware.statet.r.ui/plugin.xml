<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
 ###############################################################################
 # Copyright (c) 2005-2008 WalWare/StatET-Project (www.walware.de/goto/statet).
 # All rights reserved. This program and the accompanying materials
 # are made available under the terms of the Eclipse Public License v1.0
 # which accompanies this distribution, and is available at
 # http://www.eclipse.org/legal/epl-v10.html
 # 
 # Contributors:
 #     Stephan Wahlbrink - initial API and implementation
 ###############################################################################
-->

<plugin>
   <extension
         point="de.walware.statet.base.workingContexts">
      <unitType
            contextKey="editor.default"
            typeId="r"
            unitFactory="de.walware.statet.r.internal.ui.REditorWorkingCopyFactory">
      </unitType>
   </extension>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer class="de.walware.statet.r.internal.ui.RUIPreferenceInitializer"/>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="icons/ovr_16/r_ovr.gif"
            id="de.walware.statet.r.images.RProjectImage"
            natureId="de.walware.statet.r.RNature"/>
   </extension>
   <extension
         point="org.eclipse.core.filebuffers.documentSetup">
      <participant
            class="de.walware.statet.r.ui.editors.RDocumentSetupParticipant"
            contentTypeId="de.walware.statet.r.contentTypes.R"/>
   </extension>
   <extension
         point="org.eclipse.core.filebuffers.documentSetup">
      <participant
            class="de.walware.statet.r.ui.editors.RdDocumentSetupParticipant"
            contentTypeId="de.walware.statet.r.contentTypes.Rd"/>
   </extension>

   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="de.walware.statet.r.ui.editors.REditor"
            contributorClass="org.eclipse.ui.editors.text.TextEditorActionContributor"
            default="true"
            icon="icons/obj_16/r-file_obj.gif"
            id="de.walware.statet.r.editors.R"
            name="%editors.RScriptEditor.name">
         <contentTypeBinding contentTypeId="de.walware.statet.r.contentTypes.R"/>
      </editor>
      <editor
            class="de.walware.statet.r.ui.editors.RdEditor"
            contributorClass="org.eclipse.ui.editors.text.TextEditorActionContributor"
            default="true"
            icon="icons/obj_16/rd-file_obj.gif"
            id="de.walware.statet.r.editors.Rd"
            name="%editors.RDocEditor.name">
         <contentTypeBinding contentTypeId="de.walware.statet.r.contentTypes.Rd"/>
      </editor>
   </extension>

   <extension
         point="org.eclipse.ui.editors.templates">
      <include
            file="templates/default-code-templates.xml"
            translations="templates/default-templates.properties">
      </include>
      <include
            file="templates/default-reditor-templates.xml"
            translations="templates/default-templates.properties"/>
   </extension>

   <extension
         point="org.eclipse.ui.editors.annotationTypes">
      <type
         name="de.walware.statet.r.ui.error"
         super="org.eclipse.ui.workbench.texteditor.error"
         markerSeverity="2">
      </type>
      <type
         name="de.walware.statet.r.ui.warning"
         super="org.eclipse.ui.workbench.texteditor.warning"
         markerSeverity="1">
      </type>
      <type
         name="de.walware.statet.r.ui.info"
         super="org.eclipse.ui.workbench.texteditor.info"
         markerSeverity="0">
      </type>
   </extension>

   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation
            targetID="de.walware.statet.base.contexts.EditSourceActionSet">
         <part
               id="de.walware.statet.r.editors.R">
         </part>
      </actionSetPartAssociation>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            description="%categorys.RSource.description"
            id="de.walware.statet.r.contexts.REditorScope"
            name="%categorys.RSource.name"
            parentId="de.walware.statet.base.contexts.TextEditor"/>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:#REditorContext?after=group.edit">
         <command
               commandId="de.walware.statet.base.commands.ToggleComment"
               id="de.walware.statet.base.commands.ToggleComment"
               mnemonic="%menus_REditorContext_ToggleComment_mnemonic"
               style="push">
         </command>
         <command
               commandId="de.walware.statet.base.commands.CorrectIndent"
               id="de.walware.statet.base.commands.CorrectIndent"
               mnemonic="%menus_REditorContext_CorrectIndent_mnemonic"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="de.walware.statet.r.internal.ui.editors.RToggleMarkOccurrencesHandler"
            commandId="org.eclipse.jdt.ui.edit.text.java.toggleMarkOccurrences">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="de.walware.statet.r.editors.R">
               </equals>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="de.walware.statet.r.internal.ui.editors.RToggleFoldingHandler"
            commandId="org.eclipse.ui.edit.text.folding.toggle">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="de.walware.statet.r.editors.R">
               </equals>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="de.walware.statet.r.internal.ui.editors.RToggleLiveReportProblemsHandler"
            commandId="de.walware.statet.base.commands.ToggleLiveReportProblems">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="de.walware.statet.r.editors.R">
               </equals>
            </with>
         </activeWhen>
      </handler>
   </extension>

   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="de.walware.statet.base.preferencePages.StatetBase"
            class="de.walware.statet.r.internal.ui.preferences.RCodeStylePreferencePage"
            id="de.walware.statet.r.preferencePages.RCodeStyle"
            name="%preferencePages.RCodeStyle.name">
         <keywordReference id="de.walware.statet.base.keywords.Appearance"/>
         <keywordReference id="de.walware.statet.base.keywords.Formatting"/>
      </page>
      <page
            category="de.walware.statet.base.preferencePages.Editors"
            class="de.walware.statet.r.internal.ui.preferences.REditorPreferencePage"
            id="de.walware.statet.r.preferencePages.REditorOptions"
            name="%preferencePages.REditorOptions.name">
         <keywordReference id="de.walware.statet.base.keywords.Editor"/>
         <keywordReference id="de.walware.statet.base.keywords.Appearance"/>
         <keywordReference id="de.walware.statet.base.keywords.Formatting"/>
         <keywordReference
               id="de.walware.statet.base.keywords.SpellChecking">
         </keywordReference>
      </page>
      <page
            category="de.walware.statet.base.preferencePages.Editors"
            class="de.walware.statet.r.internal.ui.preferences.RIdentifiersPreferencePage"
            id="de.walware.statet.r.preferencePages.RIdentifierGroups"
            name="%preferencePages.RIdentifierGroups.name">
         <keywordReference
               id="de.walware.statet.base.keywords.Editor">
         </keywordReference>
         <keywordReference
               id="de.walware.statet.base.keywords.Appearance">
         </keywordReference>
      </page>
      <page
            category="de.walware.statet.base.preferencePages.Editors"
            class="de.walware.statet.r.internal.ui.preferences.RSyntaxColoringPreferencePage"
            id="de.walware.statet.r.preferencePages.RSyntaxColoring"
            name="%preferencePages.RSyntaxColoring.name">
         <keywordReference id="de.walware.statet.base.keywords.Editor"/>
         <keywordReference id="de.walware.statet.base.keywords.Appearance"/>
      </page>
      <page
            category="de.walware.statet.base.preferencePages.Editors"
            class="de.walware.statet.r.internal.ui.preferences.REditorTemplatePreferencePage"
            id="de.walware.statet.r.preferencePages.REditorTemplates"
            name="%preferencePages.REditorTemplates.name">
         <keywordReference id="de.walware.statet.base.keywords.Editor"/>
      </page>
      <page
            category="de.walware.statet.base.preferencePages.Editors"
            class="de.walware.statet.r.internal.ui.preferences.RdSyntaxColoringPreferencePage"
            id="de.walware.statet.r.preferencePages.RdSyntaxColoring"
            name="%preferencePages.RdSyntaxColoring.name">
         <keywordReference id="de.walware.statet.base.keywords.Editor"/>
         <keywordReference id="de.walware.statet.base.keywords.Appearance"/>
      </page>
   </extension>
   <extension
         point="de.walware.statet.base.ui.codeGenerationTemplatesCategory">
      <category
            id="de.walware.statet.r.codegenerationCategory.RCodeTemplates"
            name="%templatesCategory.RCodeTemplates.name"
            providerClass="de.walware.statet.r.internal.ui.preferences.RCodeTemplatesProvider"/>
      <category
            id="de.walware.statet.r.codegenerationCategory.RdCodeTemplates"
            name="%templatesCategory.RdCodeTemplates.name"
            providerClass="de.walware.statet.r.internal.ui.preferences.RdCodeTemplatesProvider"/>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="de.walware.statet.base.newWizards.StatetCategory"
            class="de.walware.statet.r.internal.ui.wizards.NewRFileCreationWizard"
            icon="icons/tool_16/new_r-file.gif"
            id="de.walware.statet.r.newWizards.RFileCreation"
            name="%wizards.NewRFile.name"
            project="false">
         <description>
            %wizards.NewRFile.description
         </description>
      </wizard>
      <wizard
            category="de.walware.statet.base.newWizards.StatetCategory"
            class="de.walware.statet.r.internal.ui.wizards.NewRdFileCreationWizard"
            icon="icons/tool_16/new_rd-file.gif"
            id="de.walware.statet.r.newWizards.RdFileCreation"
            name="%wizards.NewRdFile.name"
            project="false">
         <description>
            %wizards.NewRdFile.description
         </description>
      </wizard>
      <wizard
            category="de.walware.statet.base.newWizards.StatetCategory"
            class="de.walware.statet.r.internal.ui.wizards.NewRProjectWizard"
            icon="icons/tool_16/new_r-project.gif"
            id="de.walware.statet.r.newWizards.RProjectCreation"
            name="%wizards.NewRProject.name"
            project="true">
         <description>
            %wizards.NewRProject.description
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <commonWizard
            menuGroupId="de.walware.statet"
            type="new"
            wizardId="de.walware.statet.r.newWizards.RFileCreation">
         <enablement>
            <or>
               <adapt
                     type="org.eclipse.core.resources.IContainer">
                  <test
                        property="org.eclipse.core.resources.projectNature"
                        value="de.walware.statet.r.RNature">
                  </test>
               </adapt>
            </or></enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="de.walware.statet"
            type="new"
            wizardId="de.walware.statet.r.newWizards.RdFileCreation">
         <enablement>
            <or>
               <adapt
                     type="org.eclipse.core.resources.IProject">
                  <test
                        property="org.eclipse.core.resources.projectNature"
                        value="de.walware.statet.r.core.RPackageProject">
                  </test>
               </adapt>
            </or>
         </enablement>
      </commonWizard>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="de.walware.statet.base.perspectives.StatetPerspective">
         <newWizardShortcut id="de.walware.statet.r.newWizards.RFileCreation"/>
         <actionSet id="de.walware.statet.r.actionSets.RToolbarSet"/>
      </perspectiveExtension>
   </extension>

   <extension
         point="org.eclipse.compare.contentViewers">
      <viewer
            class="de.walware.statet.r.internal.ui.compare.RTextViewerCreator"
            id="de.walware.statet.r.compareContentViewer.R">
      </viewer>
      <contentTypeBinding
            contentTypeId="de.walware.statet.r.contentTypes.R"
            contentViewerId="de.walware.statet.r.compareContentViewer.R">
      </contentTypeBinding>
      <viewer
            class="de.walware.statet.r.internal.ui.compare.RdTextViewerCreator"
            id="de.walware.statet.r.compareContentViewer.Rd">
      </viewer>
      <contentTypeBinding
            contentTypeId="de.walware.statet.r.contentTypes.Rd"
            contentViewerId="de.walware.statet.r.compareContentViewer.Rd">
      </contentTypeBinding>
   </extension>
   <extension
         point="org.eclipse.compare.contentMergeViewers">
      <viewer
            class="de.walware.statet.r.internal.ui.compare.RMergeViewerCreator"
            id="de.walware.statet.r.compareContentMergeViewer.R">
      </viewer>
      <contentTypeBinding
            contentMergeViewerId="de.walware.statet.r.compareContentMergeViewer.R"
            contentTypeId="de.walware.statet.r.contentTypes.R">
      </contentTypeBinding>
      <viewer
            class="de.walware.statet.r.internal.ui.compare.RdMergeViewerCreator"
            id="de.walware.statet.r.compareContentMergeViewer.Rd">
      </viewer>
      <contentTypeBinding
            contentMergeViewerId="de.walware.statet.r.compareContentMergeViewer.Rd"
            contentTypeId="de.walware.statet.r.contentTypes.Rd">
      </contentTypeBinding>
   </extension>

   <extension
         point="org.eclipse.help.ui.searchEngine">
      <engine
            enabled="true"
            engineTypeId="org.eclipse.help.ui.web"
            id="de.walware.statet.r.searchEngine.RSiteSearch"
            label="%searchEngine.RSiteSearch.label">
         <param
               name="url"
               value="http://search.r-project.org/cgi-bin/namazu.cgi?query={expression}&amp;max=20&amp;result=normal&amp;sort=score&amp;idxname=functions&amp;idxname=docs"/>
         <description>
            %searchEngine.RSiteSearch.description
         </description>
      </engine>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            categoryId="de.walware.statet.base.commandCategorys.StatetSource"
            defaultHandler="de.walware.statet.r.internal.ui.rtools.RunHelpInR"
            description="%commands.RunHelpInR.description"
            id="de.walware.statet.r.ui.commands.RunHelpInR"
            name="%commands.RunHelpInR.name">
         <commandParameter
               id="topic"
               name="Help Topic"
               optional="true">
         </commandParameter>
      </command>
      <command
            categoryId="de.walware.statet.base.commandCategorys.StatetSource"
            defaultHandler="de.walware.statet.r.internal.ui.rtools.RunHelpSearchInR"
            description="%commands.RunHelpSearchInR.description"
            id="de.walware.statet.r.ui.commands.RunHelpSearchInR"
            name="%commands.RunHelpSearchInR.name">
         <commandParameter
               id="text"
               name="Text to Search For"
               optional="true">
         </commandParameter>
      </command>
      <command
            categoryId="de.walware.statet.base.commandCategorys.StatetSource"
            defaultHandler="de.walware.statet.r.internal.ui.rtools.RunPrintInR"
            description="%commands.RunPrintInR.description"
            id="de.walware.statet.r.ui.commands.RunPrintInR"
            name="%commands.RunPrintInR.name">
         <commandParameter
               id="var"
               name="Variable to Print"
               optional="true">
         </commandParameter>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.walware.statet.r.ui.commands.RunHelpInR"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R 1">
      </key>
      <key
            commandId="de.walware.statet.r.ui.commands.RunHelpSearchInR"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M2+1">
      </key>
      <key
            commandId="de.walware.statet.r.ui.commands.RunPrintInR"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R P">
      </key>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="de.walware.statet.r.internal.debug.nostart.SupportFileCommandTester"
            id="de.walware.statet.r.propertyTester.Interaction"
            namespace="de.walware.statet.r"
            properties="supportsFileCommand"
            type="org.eclipse.core.runtime.IAdaptable">
      </propertyTester>
   </extension>


   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            category="org.eclipse.ui.externaltools"
            delegate="de.walware.statet.r.internal.debug.ui.launchconfigs.RCmdLaunchDelegate"
            id="de.walware.statet.r.launchConfigurationTypes.RCmdTool"
            modes="run"
            name="%launchConfigurations.RCmd_name"
            public="true">
      </launchConfigurationType>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            id="de.walware.statet.r.images.RCmdTool"
            configTypeID="de.walware.statet.r.launchConfigurationTypes.RCmdTool"
            icon="icons/tool_16/r-cmd.png">
      </launchConfigurationTypeImage>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="de.walware.statet.r.internal.debug.ui.launchconfigs.RCmdToolTabGroup"
            description="%launchConfigurations.RCmd_description"
            helpContextId="org.eclipse.ui.externaltools.launchConfigHelpContext.program"
            id="de.walware.statet.r.launchConfigurationTabGroups.RCmdTool"
            type="de.walware.statet.r.launchConfigurationTypes.RCmdTool"/>
   </extension>

   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            delegate="de.walware.statet.r.internal.debug.ui.launchconfigs.RConsoleLaunchDelegate"
            id="de.walware.statet.r.launchConfigurationTypes.RConsole"
            modes="run,debug"
            name="%launchConfigurations.RConsole_name"
            public="true"
            sourceLocatorId="org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector"
            sourcePathComputerId="org.eclipse.jdt.launching.sourceLookup.javaSourcePathComputer">
      </launchConfigurationType>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            id="de.walware.statet.r.images.RConsole"
            configTypeID="de.walware.statet.r.launchConfigurationTypes.RConsole"
            icon="icons/tool_16/r-console.png">
      </launchConfigurationTypeImage>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="de.walware.statet.r.internal.debug.ui.launchconfigs.RConsoleTabGroup"
            description="%launchConfigurations.RConsole_description"
            id="de.walware.statet.r.launchConfigurationTabGroups.RConsole"
            type="de.walware.statet.r.launchConfigurationTypes.RConsole"/>
   </extension>

   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            delegate="de.walware.statet.r.internal.debug.ui.launchconfigs.RRemoteConsoleLaunchDelegate"
            id="de.walware.statet.r.launchConfigurationTypes.RRemoteConsole"
            modes="run"
            name="%launchConfigurations.RRemoteConsole_name"
            public="true">
      </launchConfigurationType>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            id="de.walware.statet.r.images.RRemoteConsole"
            configTypeID="de.walware.statet.r.launchConfigurationTypes.RRemoteConsole"
            icon="icons/tool_16/r-remoteconsole.png">
      </launchConfigurationTypeImage>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="de.walware.statet.r.internal.debug.ui.launchconfigs.RRemoteConsoleTabGroup"
            description="%launchConfigurations.RRemoteConsole_description"
            id="de.walware.statet.r.launchConfigurationTabGroups.RRemoteConsole"
            type="de.walware.statet.r.launchConfigurationTypes.RRemoteConsole"/>
   </extension>

   <extension-point
         id="rCodeLaunchConnector"
         name="Point to register Connectors which can launch r code"
         schema="schema/rCodeLaunchConnector.exsd"/>
   <extension-point id="rCodeLaunchContentHandler" name="Content specific handling of code launching" schema="schema/rCodeLaunchContentHandler.exsd"/>
   <extension
         point="de.walware.statet.r.ui.rCodeLaunchContentHandler">
      <contentHandler
            contentTypeId="de.walware.statet.r.contentTypes.RData">
         <fileCommand
               defaultCommand="load(&quot;${resource_loc}&quot;)">
         </fileCommand>
      </contentHandler>
   </extension>

   <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            category="de.walware.statet.r.basic"
            class="de.walware.statet.r.internal.debug.ui.launcher.RScriptViaSourceLaunchShortcut"
            icon="icons/tool_16/run-r-script-source.png"
            id="de.walware.statet.r.launchShortcuts.RScriptViaSource"
            label="%launchShortcuts_RunRScriptViaSource_label"
            modes="run"
            path="statet/r/5">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <or>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="org.eclipse.core.runtime.text">
                     </test>
                     <test
                           forcePluginActivation="false"
                           property="de.walware.statet.r.supportsFileCommand">
                     </test></or>
               </iterate>
            </with>
         </enablement>
         <contextualLaunch>
            <enablement>
                <with variable="selection">
                   <count value="1"/>
                   <iterate>
                      <test
                            forcePluginActivation="false"
                            property="de.walware.statet.r.supportsFileCommand">
                      </test>
                   </iterate>
                </with>
            </enablement>
            <contextLabel
                  label="%launchShortcuts_RunRScriptViaSource_label"
                  mode="run"/>
         </contextualLaunch>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RScriptViaSourceAndConsoleLaunchShortcut"
            icon="icons/tool_16/run-r-script-source.png"
            id="de.walware.statet.r.launchShortcuts.RScriptViaSourceAndConsole"
            label="%launchShortcuts_RunRScriptViaSourceAndGotoConsole_label"
            modes="run"
            path="statet/r/5">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <test
                        forcePluginActivation="true"
                        property="de.walware.statet.base.matchesActivatedContentType"
                        value="org.eclipse.core.runtime.text">
                  </test>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.basic"
            class="de.walware.statet.r.internal.debug.ui.launcher.RScriptDirectLaunchShortcut"
            icon="icons/tool_16/run-r-script.png"
            id="de.walware.statet.r.launchShortcuts.RScriptDirect"
            label="%launchShortcuts_RunRScriptDirect_label"
            modes="run"
            path="statet/r/5">
        <enablement>
            <with variable="selection">
              <count value="1"/>
              <iterate>
                 <test
                       forcePluginActivation="true"
                       property="de.walware.statet.base.matchesActivatedContentType"
                       value="org.eclipse.core.runtime.text">
                 </test>
               </iterate>
            </with>
         </enablement>
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/>
                  <iterate>
                     <test
                          forcePluginActivation="true"
                          property="de.walware.statet.base.matchesActivatedContentType"
                          value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </iterate>
               </with>
            </enablement>
            <contextLabel
                  label="%launchShortcuts_RunRScriptDirect_label"
                  mode="run"/>
         </contextualLaunch>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RScriptDirectAndConsoleLaunchShortcut"
            icon="icons/tool_16/run-r-script.png"
            id="de.walware.statet.r.launchShortcuts.RScriptDirectAndConsole"
            label="%launchShortcuts_RunRScriptDirectAndGotoConsole_label"
            modes="run"
            path="statet/r/5">
        <enablement>
            <with variable="selection">
              <count value="1"/>
              <iterate>
                 <test
                       forcePluginActivation="true"
                       property="de.walware.statet.base.matchesActivatedContentType"
                       value="org.eclipse.core.runtime.text">
                 </test>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.basic"
            class="de.walware.statet.r.internal.debug.ui.launcher.RSelectionDirectLaunchShortcut"
            icon="icons/tool_16/run-r-selection.png"
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirect"
            label="%launchShortcuts_RunRSelectionDirect_label"
            modes="run"
            path="statet/r/2">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="org.eclipse.core.runtime.text">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/>
                  <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                  <test
                        forcePluginActivation="true"
                        property="de.walware.statet.base.matchesActivatedContentType"
                        value="de.walware.statet.r.contentTypes.R">
                  </test>
                  </and>
                  </iterate>
               </with>
            </enablement>
            <contextLabel
                  label="%launchShortcuts_RunRSelectionDirect_label"
                  mode="run"/>
         </contextualLaunch>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RSelectionDirectAndConsoleLaunchShortcut"
            icon="icons/tool_16/run-r-selection.png"
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndConsole"
            label="%launchShortcuts_RunRSelectionDirectAndGotoConsole_label"
            modes="run"
            path="statet/r/2">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                  <test
                        property="org.eclipse.debug.ui.matchesContentType"
                        value="org.eclipse.core.runtime.text"/>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.basic"
            class="de.walware.statet.r.internal.debug.ui.launcher.RSelectionDirectAndNextLineLaunchShortcut"
            icon="icons/tool_16/run-r-selection.png"
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndNextLine"
            label="%launchShortcuts_RunRSelectionDirectAndGotoNextLine_label"
            modes="run"
            path="statet/r/2">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="org.eclipse.core.runtime.text">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RFunctionDirectLaunchShortcut"
            id="de.walware.statet.r.launchShortcuts.REditorFunctionDirect"
            label="%launchShortcuts_RunRFunctionDirect_label"
            modes="run"
            path="statet/r">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RFunctionDirectAndConsoleLaunchShortcut"
            id="de.walware.statet.r.launchShortcuts.REditorFunctionDirectAndConsole"
            label="%launchShortcuts_RunRFunctionDirectAndGotoConsole_label"
            modes="run"
            path="statet/r">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RCommandDirectLaunchShortcut"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirect"
            label="%launchShortcuts_RunRCommandDirect_label"
            modes="run"
            path="statet/r">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RCommandDirectAndConsoleLaunchShortcut"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndConsole"
            label="%launchShortcuts_RunRCommandDirectAndGotoConsole_label"
            modes="run"
            path="statet/r">
         <enablement>
            <with variable="selection">
               <count value="1"/>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RCommandDirectAndNextLaunchShortcut"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndNextCommand"
            label="%launchShortcuts_RunRCommandDirectAndGotoNextCommand_label"
            modes="run"
            path="statet/r">
         <enablement>
            <with
                  variable="selection">
               <count
                     value="1">
               </count>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
      </shortcut>
      <shortcut
            category="de.walware.statet.r.other"
            class="de.walware.statet.r.internal.debug.ui.launcher.RSelectionDirectAndPasteOutputLaunchShortcut"
            icon="icons/tool_16/run-r-selection-paste.png"
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndPasteOutput"
            label="%launchShortcuts_RunRSelectionDirectAndPasteOutput_label"
            modes="run"
            path="statet/r/8">
         <enablement>
            <with
                  variable="selection">
               <count
                     value="1">
               </count>
               <iterate>
                  <and>
                     <instanceof
                           value="org.eclipse.ui.IEditorInput">
                     </instanceof>
                     <test
                           forcePluginActivation="true"
                           property="de.walware.statet.base.matchesActivatedContentType"
                           value="de.walware.statet.r.contentTypes.R">
                     </test>
                  </and>
               </iterate>
            </with>
         </enablement>
         <contextualLaunch>
            <enablement>
               <with
                     variable="selection">
                  <count
                        value="1">
                  </count>
                  <iterate>
                     <and>
                        <instanceof
                              value="org.eclipse.ui.IEditorInput">
                        </instanceof>
                        <test
                              forcePluginActivation="true"
                              property="de.walware.statet.base.matchesActivatedContentType"
                              value="de.walware.statet.r.contentTypes.R">
                        </test>
                     </and>
                  </iterate>
               </with>
            </enablement>
            <contextLabel
                  label="%launchShortcuts_RunRSelectionDirectAndPasteOutput_label"
                  mode="run">
            </contextLabel>
         </contextualLaunch>
      </shortcut>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="de.walware.statet.r.actionSets.RToolbarSet"
            label="%actionSets.RToolbar.label">
         <action
               class="de.walware.statet.r.internal.debug.ui.launcher.RunRCodePulldownAction"
               icon="icons/tool_16/run-r-script.png"
               id="de.walware.statet.r.ui.actions.RunRCodePulldown"
               label="%actions.RunRCode.label"
               style="pulldown"
               toolbarPath="statet.r"/>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="de.walware.statet.base.preferencePages.StatetBase"
            class="de.walware.statet.r.internal.debug.ui.preferences.RInteractionPreferencePage"
            id="de.walware.statet.r.preferencePages.RInteraction"
            name="%preferencePages.RInteraction.name"/>
      <page
            category="de.walware.statet.r.preferencePages.RInteraction"
            class="de.walware.statet.r.internal.debug.ui.preferences.REnvPreferencePage"
            id="de.walware.statet.r.preferencePages.RInteractionPreferencePage"
            name="%preferencePages.REnvironments.name"/>
      <page
            category="de.walware.statet.r.preferencePages.RInteraction"
            class="de.walware.statet.r.internal.debug.ui.preferences.ExtendedOptionsPreferencePage"
            id="de.walware.statet.r.preferencePages.AdvancedIntegration"
            name="%preferencePages.RIntegrationExt.name">
      </page>
   </extension>

   <extension point="org.eclipse.ui.commands">
      <command
            id="de.walware.statet.r.launchShortcuts.RScriptViaSource.run"
            name="%commands.RunRScriptViaSource.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.RScriptViaSourceAndConsole.run"
            name="%commands.RunRScriptViaSourceAndGotoConsole.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.RScriptDirect.run"
            name="%commands.RunRScriptDirect.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.RScriptDirectAndConsole.run"
            name="%commands.RunRScriptDirectAndGotoConsole.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirect.run"
            name="%commands.RunRSelectionDirect.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndConsole.run"
            name="%commands.RunRSelectionDirectAndGotoConsole.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndNextLine.run"
            name="%commands.RunRSelectionDirectAndGotoNextLine.name"
            categoryId="org.eclipse.debug.ui.category.run">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorFunctionDirect.run"
            name="%commands.RunRFunctionDirect.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorFunctionDirectAndConsole.run"
            name="%commands.RunRFunctionDirectAndGotoConsole.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirect.run"
            name="%commands.RunRCommandDirect.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndConsole.run"
            name="%commands.RunRCommandDirectAndGotoConsole.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndNextCommand.run"
            name="%commands.RunRCommandDirectAndGotoNextCommand.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            id="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndPasteOutput.run"
            name="%commands.RunRSelectionDirectAndPasteOutput.name">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            defaultHandler="de.walware.statet.r.internal.debug.ui.GotoRConsole"
            id="de.walware.statet.r.commands.GotoRConsole"
            name="%commands.GotoRConsole"/>
   </extension>

   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.walware.statet.r.launchShortcuts.RScriptViaSource.run"
            contextId="org.eclipse.ui.globalScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+M3+X R"/>
       <key
            commandId="de.walware.statet.r.launchShortcuts.RScriptViaSource.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+S"/>
     <key
            commandId="de.walware.statet.r.launchShortcuts.RScriptViaSourceAndConsole.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R S"/>

      <key
            commandId="de.walware.statet.r.launchShortcuts.RScriptDirect.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+D"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.RScriptDirectAndConsole.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R D"/>

      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorSelectionDirect.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+R"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndConsole.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R R"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndNextLine.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+4"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorFunctionDirect.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+F"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorFunctionDirectAndConsole.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R F"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorCommandDirect.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+E"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndConsole.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R E"/>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorCommandDirectAndNextCommand.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+3">
      </key>
      <key
            commandId="de.walware.statet.r.launchShortcuts.REditorSelectionDirectAndPasteOutput.run"
            contextId="de.walware.statet.r.contexts.REditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R M1+V">
      </key>
      <key
            commandId="de.walware.statet.r.commands.GotoRConsole"
            contextId="org.eclipse.ui.globalScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R C">
      </key>
   </extension>
   <extension
         point="de.walware.statet.r.ui.rCodeLaunchConnector">
      <connector
            class="de.walware.statet.r.internal.nico.ui.RControllerCodeLaunchConnector"
            description="%rConnector_RNewConsoleConnector_description"
            id="de.walware.statet.r.launching.RNewConsoleConnector"
            name="%rConnector_RNewConsoleConnector_name"/>
      <connector
            class="de.walware.statet.r.internal.debug.ui.TextConsoleConnector"
            description="%rConnector_EclipseTextConsole_description"
            id="de.walware.statet.r.rCodeLaunchConnector.EclipseTextConsole"
            name="%rConnector_EclipseTextConsole_name"/>
   </extension>

</plugin>
